## OAuth

토큰 기반의 사용자 인증 방식으로, 특정 웹서비스에서 다른 웹서비스의 인증토큰을 활용하여 리소스를 사용하도록 하는 방식. 페이스북, 구글로 로그인하는 방식이 이에 속한다.

왓챠를 사용하는데 페이스북 인증을 사용한다고 하면,

1. 사용자가 왓챠에서 페이스북 로그인을 시도한다.
2. 페이스북 로그인을 하고 권한허가(Authorization Grant)를 받는다.
3. 왓챠의 접근을 허용하면 액세스 토큰(Access Token)을 페이스북으로부터 받는다.
4. 액세스 토큰을 사용하여 왓챠가 제공하는 리소스를 사용한다.

발급받은 토큰은 "의미없는 문자열"이기 때문에 인증이 필요할 때마다 인증서버에 인증을 받아야 한다.

## JWT

Json Web Token의 약자로 토큰 포맷을 정의하는 규약이다. 토큰 방식이라는 점에서 OAuth와 비슷하지만 발급받은 토큰이 유효성/위변조 여부 검사에 대한 값과 인증정보를 포함한다는 점에서 차이가 있다. 문자열 자체가 암호화된 것이기 때문에 인증 서버에 다시 확인할 필요가 없고 클라이언트 측에 저장해서 사용하면 된다.

header, payload, signature로 구분된다.

* header : `typ` 은 토큰의 타입, `alg` 는 암호화 알고리즘
* payload : 토큰에 담을 정보, 한 조각을 클레임이라 부르며 registered/public/private 클레임이 있음
* signature : header의 인코딩 + payload 인코딩 + 비밀키(secret key)에 해싱을 해서 생성

이제 모든 파트를 `.` 으로 합쳐서 JWT 완성. [벨로퍼트 님 블로그](https://velopert.com/2389) 참고